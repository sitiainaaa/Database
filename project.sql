DROP TABLE REVIEW;
DROP TABLE RESERVATION;
DROP TABLE RENTAL;
DROP TABLE PAYMENT_TYPE;
DROP TABLE CUSTOMER;
DROP TABLE STAFF;
DROP TABLE COSTUME;
DROP TABLE PAYMENT;

-- TABLE CUSTOMER
CREATE TABLE CUSTOMER
( 
  Cust_No VARCHAR2(5),
  Fullname VARCHAR2(50) NOT NULL,
  Gender VARCHAR2(6) NOT NULL CHECK (Gender IN ('Male','Female')),
  Address VARCHAR2(100) NOT NULL,
  Phone_No NUMBER(11) NOT NULL,
  Card_No NUMBER(30) NOT NULL UNIQUE,
  Card_Type VARCHAR2(50) NOT NULL CHECK (Card_Type IN ('Visa Debit','Visa Credit','Master Debit','Master Credit')),
  MembershipID VARCHAR2(50),
  

  PRIMARY KEY (Cust_No)
);  

INSERT INTO CUSTOMER VALUES ('A1','Alia Maisarah Bt Halim','Female','NO.1,Jalan Jujur 3,Bandar Tun Razak,56000 Kuala Lumpur',0172884567,234567893456,'Visa Debit','M03');
INSERT INTO CUSTOMER VALUES ('A2','Hafiz Zamani Bin Adam','Male','NO.2,Persiaran 5,Taman Pusaka 36800 Kampar,Perak',01788345678,87654323456,'Visa Debit','M04');
INSERT INTO CUSTOMER VALUES ('A3','Najwa Izzati Bt Abu','Female','T22,Taman Midah,Bandar Bahru 54180,Kuala Lumpur',0153456788,9876543234567,'Visa Credit','M05');
INSERT INTO CUSTOMER VALUES ('A4','Aira Binti Zamri','Female','NO.6,Taman Pelangi ,27000,Jerantut,Pahang',0145678923,987654345676,'Master Debit','M06');
INSERT INTO CUSTOMER VALUES ('A5','Arif Bin Ariffin','Male','NO.44,Jalan Zamrud,56000 Cheras,Selangor',01345678876,2345678987654,'Master Debit','M07');
INSERT INTO CUSTOMER VALUES ('A6','Akhmal Bin Ibrahim','Male','N0.12,Taman Tun Jamal 61700,Durian Tunggal,Melaka ', 0196565656,4293189100000008, 'Visa Debit','M08');
INSERT INTO CUSTOMER VALUES ('A7','Talib Bin Razif','Male','Lot6,Jalan Tanjung Rambutan,54600 Negeri Sembilan',012345678,87652345677, 'Visa Credit','M09');
INSERT INTO CUSTOMER VALUES ('A8','Selena','Female','No.3,Jalan Dalam,15000 Kota Bharu Kelantan',0137654903,98366426, 'Visa Debit','M10');
INSERT INTO CUSTOMER VALUES ('A9','John','Male','NO.18,Jalan Melati ,54100 Kuala Lumpur',0120099931,4567382922, 'Visa Debit','M11');
INSERT INTO CUSTOMER VALUES ('A10','Siti Binti Arshad','Female','Lot10,Jalan Speedy,36800 kampong gajah ,Perak',0110090012,908766373733, 'Visa Credit','M12');

-- TABLE STAFF 
CREATE TABLE STAFF 
( 
  Staff_No VARCHAR2(5), 
  Fullname VARCHAR2(50) NOT NULL,
  Gender VARCHAR2(6) NOT NULL CHECK (Gender IN ('Male','Female')),
  Current_Status VARCHAR2(50) NOT NULL,
  Supervisor_No VARCHAR2(5),		 

  PRIMARY KEY (Staff_No),
  FOREIGN KEY (Supervisor_No) REFERENCES STAFF (Staff_No)
);

INSERT INTO STAFF VALUES ('S1','Sahirah Binti Muhammad Hafas','Female','Active',NULL);
INSERT INTO STAFF VALUES ('S2','Siti Nurhayuni Binti Haron','Female','Active','S1');
INSERT INTO STAFF VALUES ('S3','Nurul Elyyana Natasha Binti Yusli','Female','Unpaid Leave','S1');
INSERT INTO STAFF VALUES ('S4','Siti Aina Nabilah Binti Aidie Azman','Female','Active','S1');
INSERT INTO STAFF VALUES ('S5','Aisyatul Aaleya Binti Abdull Rahim','Female','Active','S1');
INSERT INTO STAFF VALUES ('S6','Muhammad Aqil Arman Bin Azman','Male','Active','S1');
INSERT INTO STAFF VALUES ('S7','Rayyan Iskandar Bin Akmal','Male','Active','S1');
INSERT INTO STAFF VALUES ('S8','Muhammad Ali bin Ahmad','Male','Unpaid Leave','S1');

-- TABLE COSTUME
CREATE TABLE COSTUME
( 
  Costume_ID VARCHAR2(5),
  Costume_Type VARCHAR2(25) NOT NULL, 
  Price_Per_Day_RM NUMBER(8,2) NOT NULL, 

  PRIMARY KEY (Costume_ID)
);

INSERT INTO  COSTUME VALUES ('C4677','Wedding Dress','700.00');
INSERT INTO  COSTUME VALUES ('C5946','Cosplay','200.00');
INSERT INTO  COSTUME VALUES ('C9264','Prom Night','300.00');
INSERT INTO  COSTUME VALUES ('C6543','Christmas','150.00');
INSERT INTO  COSTUME VALUES ('C7364','Halloween','150.00');
INSERT INTO  COSTUME VALUES ('C9564','Birthday Party','200.00');
INSERT INTO  COSTUME VALUES ('C9866','Graduation','150.00');

-- TABLE RENTAL
CREATE TABLE RENTAL
( 
  Rental_No VARCHAR2(5),
  Cust_No VARCHAR2(5) NOT NULL,
  Staff_No VARCHAR2(5) NOT NULL,
  Rental_Date DATE NOT NULL,
  Status VARCHAR2(50) NOT NULL,

  PRIMARY KEY (Rental_No),
  FOREIGN KEY (Cust_No) REFERENCES CUSTOMER (Cust_No),
  FOREIGN KEY (Staff_No) REFERENCES STAFF (Staff_No)
); 

INSERT INTO RENTAL VALUES ('R1', 'A1', 'S1', TO_DATE('2022-08-02', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R2', 'A2', 'S2', TO_DATE('2022-03-08', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R3', 'A3', 'S3', TO_DATE('2022-09-12', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R4', 'A4', 'S4', TO_DATE('2022-04-18', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R5', 'A5', 'S2', TO_DATE('2022-03-10', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R6', 'A6', 'S6', TO_DATE('2022-05-06', 'YYYY-MM-DD'), 'Refund');
INSERT INTO RENTAL VALUES ('R7', 'A7', 'S5', TO_DATE('2022-09-09', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R8', 'A2', 'S4', TO_DATE('2022-09-12', 'YYYY-MM-DD'), 'Refund');
INSERT INTO RENTAL VALUES ('R9', 'A4', 'S3', TO_DATE('2022-09-29', 'YYYY-MM-DD'), 'Refund');
INSERT INTO RENTAL VALUES ('R10', 'A4', 'S3', TO_DATE('2022-10-19', 'YYYY-MM-DD'), 'Paid');
INSERT INTO RENTAL VALUES ('R11', 'A3', 'S2', TO_DATE('2022-12-17', 'YYYY-MM-DD'), 'UnPaid');
INSERT INTO RENTAL VALUES ('R12', 'A8', 'S1', TO_DATE('2022-01-23', 'YYYY-MM-DD'), 'UnPaid');



-- TABLE RESERVATION
CREATE TABLE RESERVATION
( 
  Costume_ID VARCHAR2(5),
  Rental_No VARCHAR2(5),
  Start_Date DATE NOT NULL, 
  End_Date DATE NOT NULL,

  PRIMARY KEY (Costume_ID, Rental_No), 
  FOREIGN KEY (Costume_ID) REFERENCES COSTUME (Costume_ID),
  FOREIGN KEY (Rental_No) REFERENCES RENTAL (Rental_No)
); 

INSERT INTO RESERVATION VALUES ('C4677','R1','AUG-02-2022','AUG-05-2022');
INSERT INTO RESERVATION VALUES ('C5946','R2','AUG-08-2022','AUG-11-2022');
INSERT INTO RESERVATION VALUES ('C9264','R3','SEP-12-2022','SEP-14-2022');
INSERT INTO RESERVATION VALUES ('C6543','R4','SEP-18-2022','SEP-25-2022');
INSERT INTO RESERVATION VALUES ('C7364','R5','SEP-10-2022','SEP-15-2022');
INSERT INTO RESERVATION VALUES ('C9564','R6','SEP-06-2022','SEP-10-2022');
INSERT INTO RESERVATION VALUES ('C9866','R7','SEP-09-2022','SEP-14-2022');

-- TABLE REVIEW
CREATE TABLE REVIEW  
( 
  Review_No VARCHAR2(5),
  Review_Date DATE NOT NULL,
  Rental_No VARCHAR2(5) NOT NULL,
  Rating NUMBER(1) NOT NULL CHECK (Rating IN (1,2,3,4,5)),
  Comments VARCHAR2(500),

  PRIMARY KEY (Review_No),
  FOREIGN KEY (Rental_No) REFERENCES RENTAL (Rental_No)
); 

INSERT INTO REVIEW VALUES ('RV1',TO_DATE('2022-08-03', 'YYYY-MM-DD'),'R1',4,'Had to wait for 2 hours to get the costume.');
INSERT INTO REVIEW VALUES ('RV2',TO_DATE('2022-09-13', 'YYYY-MM-DD'),'R7',3,NULL);
INSERT INTO REVIEW VALUES ('RV3',TO_DATE('2022-01-13', 'YYYY-MM-DD'),'R3',5,'Excellent Service');
INSERT INTO REVIEW VALUES ('RV4',TO_DATE('2022-09-14', 'YYYY-MM-DD'),'R5',5,'Excellent Service And Nice Service');
INSERT INTO REVIEW VALUES ('RV5',TO_DATE('2022-09-26', 'YYYY-MM-DD'),'R11',4,'Excellent Service');
INSERT INTO REVIEW VALUES ('RV6',TO_DATE('2022-03-03', 'YYYY-MM-DD'),'R8',5,'Excellent Staff and Services');
INSERT INTO REVIEW VALUES ('RV7',TO_DATE('2022-05-19', 'YYYY-MM-DD'),'R4',4,'Excellent Service');
INSERT INTO REVIEW VALUES ('RV8',TO_DATE('2022-01-21', 'YYYY-MM-DD'),'R9',5,'Excellent Service and Good staff');
INSERT INTO REVIEW VALUES ('RV9',TO_DATE('2022-08-14', 'YYYY-MM-DD'),'R2',3,'The staff is Late to give services');



-- TABLE PAYMENT
CREATE TABLE PAYMENT 
( 
  Payment_ID VARCHAR2(5),
  Value NUMBER(7) NOT NULL,
  Payment_Date DATE NOT NULL,
  Type_payment VARCHAR2(20),
  
  PRIMARY KEY (Payment_ID)
);

INSERT INTO PAYMENT VALUES ('P1', 150.00, DATE '2022-07-04','Credit');
INSERT INTO PAYMENT VALUES ('P2', 265.00, DATE '2022-09-20','Debit');
INSERT INTO PAYMENT VALUES ('P3', 350.00, DATE '2022-01-08','Credit');
INSERT INTO PAYMENT VALUES ('P4', 100.00, DATE '2022-04-15','Debit');
INSERT INTO PAYMENT VALUES ('P5', 500.00, DATE '2022-04-19','E-Wallet');
INSERT INTO PAYMENT VALUES ('P6', 650.00, DATE '2022-10-03','Credit');
INSERT INTO PAYMENT VALUES ('P7', 179.00, DATE '2022-02-08','E-Wallet');
INSERT INTO PAYMENT VALUES ('P8', 700.00, DATE '2022-05-17','Online Banking');
INSERT INTO PAYMENT VALUES ('P9', 1100.00, DATE '2022-09-25','Online Banking');
INSERT INTO PAYMENT VALUES ('P10', 289.00, DATE '2022-04-30','Debit');


-- TABLE PAYMENT_TYPE
CREATE TABLE PAYMENT_TYPE 
( 
  Type_payment VARCHAR2(20),
  Payment_ID VARCHAR2(5) NOT NULL,


  PRIMARY KEY (Type_payment),
  FOREIGN KEY (Payment_ID) REFERENCES PAYMENT (Payment_ID)
);

INSERT INTO PAYMENT_TYPE VALUES ('Credit', 'P2');
INSERT INTO PAYMENT_TYPE VALUES ('Online Banking', 'P3');
INSERT INTO PAYMENT_TYPE VALUES ('Debit', 'P1');
INSERT INTO PAYMENT_TYPE VALUES ('E-Wallet', 'P4');


